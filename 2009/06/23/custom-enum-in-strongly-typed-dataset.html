<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">

    <title>Custom Enum in strongly typed DataSet - Techno Fattie</title>

    <!-- Fonts -->
    <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro%3A400%2C400italic%2C700" rel="stylesheet">
    <link href="http://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet">

    <!-- Bootstrap core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/bootstrap-social.css" rel="stylesheet">

    <!-- Styles -->
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/pygments/vs.css" rel="stylesheet">

    <!-- Loading bar -->
    <script src="/js/pace.min.js"></script>

    <!-- HTML5 shiv for IE8 support -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div id="secondary" class="col-sm-3 sidebar" style="display: none;">
      <aside>

        <div class="about">
          <h4>About Josh Carroll</h4>
          <p>Computer geek, husband, father, theologian. I rock out web sites. I work for <a href="http://www.wintellect.com/">Wintellect</a>.</p>
        </div>

        <div class="socialmedia">
          <h4>Connect</h4>
          <div class="socials-sidebar">
          
            <a class="btn btn-twitter" href="https://twitter.com/jwcarroll" title="Twitter">
              <i class="fa fa-twitter"></i>
            </a>
          
            <a class="btn btn-linkedin" href="https://www.linkedin.com/in/jwcarroll" title="LinkedIn">
              <i class="fa fa-linkedin"></i>
            </a>
          
            <a class="btn btn-google-plus" href="https://www.google.com/+JoshCarrollW" title="Google+">
              <i class="fa fa-google-plus"></i>
            </a>
          
            <a class="btn btn-github" href="https://github.com/jwcarroll" title="GitHub">
              <i class="fa fa-github"></i>
            </a>
          
          </div> <!-- /.socials-sidebar -->
        </div>
        
        <div class="tags">
          <h4>Tags</h4>
          <ul>
          
            <li>
              <a href="/tags/f%23.html" class="tag btn btn-tag btn-sm">f#</a>
            </li>
          
            <li>
              <a href="/tags/.net.html" class="tag btn btn-tag btn-sm">.net</a>
            </li>
          
            <li>
              <a href="/tags/c%23.html" class="tag btn btn-tag btn-sm">c#</a>
            </li>
          
            <li>
              <a href="/tags/data-sets.html" class="tag btn btn-tag btn-sm">data-sets</a>
            </li>
          
            <li>
              <a href="/tags/commentary.html" class="tag btn btn-tag btn-sm">commentary</a>
            </li>
          
            <li>
              <a href="/tags/qa.html" class="tag btn btn-tag btn-sm">qa</a>
            </li>
          
            <li>
              <a href="/tags/tdd.html" class="tag btn btn-tag btn-sm">tdd</a>
            </li>
          
            <li>
              <a href="/tags/unit-testing.html" class="tag btn btn-tag btn-sm">unit-testing</a>
            </li>
          
            <li>
              <a href="/tags/security.html" class="tag btn btn-tag btn-sm">security</a>
            </li>
          
            <li>
              <a href="/tags/wpf.html" class="tag btn btn-tag btn-sm">wpf</a>
            </li>
          
            <li>
              <a href="/tags/validation.html" class="tag btn btn-tag btn-sm">validation</a>
            </li>
          
            <li>
              <a href="/tags/programming.html" class="tag btn btn-tag btn-sm">programming</a>
            </li>
          
            <li>
              <a href="/tags/sarcasm.html" class="tag btn btn-tag btn-sm">sarcasm</a>
            </li>
          
            <li>
              <a href="/tags/stackoverflow.html" class="tag btn btn-tag btn-sm">stackoverflow</a>
            </li>
          
            <li>
              <a href="/tags/dynamic.html" class="tag btn btn-tag btn-sm">dynamic</a>
            </li>
          
            <li>
              <a href="/tags/powershell.html" class="tag btn btn-tag btn-sm">powershell</a>
            </li>
          
            <li>
              <a href="/tags/angular.html" class="tag btn btn-tag btn-sm">angular</a>
            </li>
          
            <li>
              <a href="/tags/dependency-injection.html" class="tag btn btn-tag btn-sm">dependency-injection</a>
            </li>
          
            <li>
              <a href="/tags/humor.html" class="tag btn btn-tag btn-sm">humor</a>
            </li>
          
          </ul>
        </div>
        
        <div class="sidebar-links">
         <h4><a href="/archives/">Archives</a></h4>
        </div>
        
        
        <div>
            <h4>You Might Also Like:</h4>
            
            <h5>
               <a href="/2011/02/11/wpf-fancy-winforms.html">WPF != Fancy Winforms</a>
            </h5>
            
            <h5>
               <a href="/2011/09/23/solving-ayende%27s-tax-woes.html">Solving Ayende's Tax Woes</a>
            </h5>
            
            <h5>
               <a href="/2010/06/25/extending-moq-using-extension-methods.html">Extending Moq Using Extension Methods</a>
            </h5>
            
            <h5>
               <a href="/2012/08/31/prototypal-inheritance-in-c%23.html">Prototypal Inheritance in C#</a>
            </h5>
            
            <h5>
               <a href="/2011/04/08/unit-testing-and-declarative-security-part-2.html">Unit Testing and Declarative Security, Part 2</a>
            </h5>
            
        </div>
        
        
      </aside>
    </div> <!-- /#secondary -->

    <div id="primary" class="col-sm-12">
      <div class="content">
        
        <header class="header">
          <hgroup class="pull-left">
            <h1 class="site-title">
              <a rel="home" title="Techno Fattie" href="/">
                <i class="fa fa-code"></i> Techno Fattie
              </a>
            </h1>            
          </hgroup>
          <div id="togglesidebar" class="btn btn-primary pull-right">
            <i class="fa fa-bars"></i>
          </div>
        </header> <!-- /header -->

        

<section class="post">
 <header class="entry-header">
   <img class="entry-avatar" alt="Josh Carroll" height="52" width="52" src="http://www.gravatar.com/avatar/213ff080fa03648f0b71e4f4658a8046.png?s=52">
   <h1 class="entry-title"><a href="/2009/06/23/custom-enum-in-strongly-typed-dataset.html">Custom Enum in strongly typed DataSet</a></h1>
   <p class="entry-meta">
     Posted on <a class="entry-date" href="/archives/#june-2009">23 June 2009</a> | 
     By <a class="entry-author" href="/about/">Josh Carroll</a>
     
     | Tags 
     
     <a href="/tags/c%23.html" class="btn btn-default btn-xs">c#</a> 
     
     <a href="/tags/.net.html" class="btn btn-default btn-xs">.net</a> 
     
     <a href="/tags/data-sets.html" class="btn btn-default btn-xs">data-sets</a> 
     
     
   </p>
 </header>
 <div class="entry-description">
   <div style="text-align: left;">Recently I found a question about <a href="http://stackoverflow.com/questions/1035796/enum-in-dataset">using Enums in a DataSet</a> on <a href="http://www.blogger.com/www.stackoverflow.com">StackOverflow</a>. I was a little dissapointed at the answers people provided that were either down right wrong, or overly complicated. Sometimes I think people are so hungry for reputation points they forget that they are supposed to be <i>answering</i> questions.</div><div style="text-align: center;"><br /></div><div>Anyway, one poster recommended using strongly typed DataSets, but then advocated partial classes, or modifying the generated code. While a strongly typed DataSet is the way to go, you don't have to do anything fancy to get enum support.</div><div><br /></div><div>Lets say we have just created a DataSet, and dropped a single DataTable into it:</div><div style="text-align: center;"><br /></div><img src="http://2.bp.blogspot.com/_zrLYGpcNAqw/SkGNLW-5LkI/AAAAAAAAArw/cSOTIk5daTo/s320/EnumDataSet.jpg" style="display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;width: 186px; height: 75px;" border="0" alt="" id="BLOGGER_PHOTO_ID_5350713058580311618" /><div>Normally <b>AwesomeId</b> would just map to some integer key in a lookup table, and for whatever reason you have an enum that maps directly to this table in code:</div><div style="text-align: center;"><br /></div><div><pre name="code" class="c#">namespace&nbsp;StackOverflowExamples.Library.DataAccess.EnumDataSet<br />{<br /> public&nbsp;enum&nbsp;AwesomeEnum<br /> {<br />  Awesome,<br />  MoreAwesome,<br />  AwesomeIncarnate<br /> }<br />}</pre></div><div>What you want to avoid is having to cast this back and forth from an <b>Int</b> to an Enum. The nice folks at Microsoft were kind enough to give us a type property for each column in a DataSet that can be changed. If you select the column you want to map, and then navigate to the properties tab in Visual Studio, you will see that the column type is easily changeable.</div><div><br /></div><div><img src="http://4.bp.blogspot.com/_zrLYGpcNAqw/SkGRSbszr5I/AAAAAAAAAr4/KgYzIcV0YP8/s320/AwesomeIdColumn.jpg" style="display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;" border="0" alt="" id="BLOGGER_PHOTO_ID_5350717578152226706" /></div><div>Now all you have to do is substitute the fully qualified Enum Type into that field and you are good to go.</div><div><br /></div><a href="http://picasaweb.google.com/lh/photo/ubIVvV3zxTXtfpTD2sr6cA?authkey=Gv1sRgCJeptOeUyKuEXA&amp;feat=embedwebsite"><img src="http://lh6.ggpht.com/_zrLYGpcNAqw/SkGS6iPG6vI/AAAAAAAAAsA/58dvcN0BomI/s800/AwesomeIdColumnDataTypeRenamed.jpg" style="display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;" /></a><div>Are we there yet? Sort of. You could officially use this right now if you want, but chances are somehwere down the road you will eventually run into this gem (after a rebuild) when you attempt to open the designer.</div><div><span class="Apple-style-span"  style="color:#0000EE;"><span class="Apple-style-span" style=""><span class="Apple-style-span"  style="color:#000000;"><br /></span></span></span></div><div><a href="http://picasaweb.google.com/lh/photo/61HkPacV0Aqm0oTZzodxLA?authkey=Gv1sRgCJeptOeUyKuEXA&amp;feat=embedwebsite"><img src="http://lh5.ggpht.com/_zrLYGpcNAqw/SkGXrP7jCuI/AAAAAAAAAtE/ILJ7j9bzQPc/s800/WrongDataTypeError.jpg" style="display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;" /></a></div><div>In case this happens, don't worry you haven't permanently broken the designer, but you will have to manually edit the .xsd file. Navigate to your DataSet .xsd file and right click on it. Choose to open it up with the text editor of your choice, but you are better off just using the default Visual Studio text editor.</div><div><br /></div><div><a href="http://picasaweb.google.com/lh/photo/6mPamn5Km70Bn-79VWzoWw?authkey=Gv1sRgCJeptOeUyKuEXA&amp;feat=embedwebsite"><img src="http://lh6.ggpht.com/_zrLYGpcNAqw/SkGZq1h1DhI/AAAAAAAAAtI/-C4fknFOb2g/s800/xsdfile.jpg" /></a><br /></div><div><br /></div><div>Normally I don't advocate editing raw autogened XML, but this one is an easy fix. Find the line that maps your column name to a specific type. It should look something like this:</div><div><br /></div><div><pre name="code" class="xml">&lt;xs:element name=&quot;AwesomeId&quot; msdata:DataType=&quot;StackOverflowExamples.Library.DataAccess.EnumDataSet.AwesomeEnum, StackOverflowExamples.Library, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null&quot; msprop:Generator_UserColumnName=&quot;AwesomeId&quot; msprop:Generator_ColumnPropNameInRow=&quot;AwesomeId&quot; msprop:Generator_ColumnVarNameInTable=&quot;columnAwesomeId&quot; msprop:Generator_ColumnPropNameInTable=&quot;AwesomeIdColumn&quot; type=&quot;xs:anyType&quot; minOccurs=&quot;0&quot; /&gt;</pre></div><div>Take a look at the <i>msdata:DataType</i> attribute. As you can clearly see, our fully qualified type is listed here, but there is some assembly information that is causing us problems. Simply remove everything after the <i>Type Name.</i></div><div><pre name="code" class="xml">&lt;xs:element name=&quot;AwesomeId&quot; msdata:DataType=&quot;StackOverflowExamples.Library.DataAccess.EnumDataSet.AwesomeEnum&quot; msprop:Generator_UserColumnName=&quot;AwesomeId&quot; msprop:Generator_ColumnPropNameInRow=&quot;AwesomeId&quot; msprop:Generator_ColumnVarNameInTable=&quot;columnAwesomeId&quot; msprop:Generator_ColumnPropNameInTable=&quot;AwesomeIdColumn&quot; type=&quot;xs:anyType&quot; minOccurs=&quot;0&quot; /&gt;</pre></div><div>Now you can save the .xsd file, close it, and reopen your DataSet in the designer without any more problems.</div><div><br /></div><div>Enjoy your strongly typed DataSet with custom Enum values :)</div>

 </div>
 

<div class="footer">
    <h4>Share This Post</h4>

    <div class="socials-footer">
        <a class="btn btn-twitter" href="http://twitter.com/share?text=Custom Enum in strongly typed DataSet by @jwcarroll&url=http://www.technofattie.com/2009/06/23/custom-enum-in-strongly-typed-dataset.html"
           onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
            <i class="fa fa-twitter"></i>
        </a>
        <a class="btn btn-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://www.technofattie.com/2009/06/23/custom-enum-in-strongly-typed-dataset.html"
           onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
            <i class="fa fa-facebook"></i>
        </a>
        <a class="btn btn-google-plus" href="https://plus.google.com/share?url=http://www.technofattie.com/2009/06/23/custom-enum-in-strongly-typed-dataset.html"
           onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
            <i class="fa fa-google-plus"></i>
        </a>
    </div>
</div>
</section>

<div class="comments">
 <div id="disqus_thread"></div>
 <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'technofattie'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
 </script>
 <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
 <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

        <footer class="footer">
          <p>Â© <a href="/about/">Josh Carroll</a> 2014. All right reserved.</p>
          <div class="socials-footer">
          
            <a class="btn btn-twitter" href="https://twitter.com/jwcarroll" title="Twitter">
              <i class="fa fa-twitter"></i>
            </a>
          
            <a class="btn btn-linkedin" href="https://www.linkedin.com/in/jwcarroll" title="LinkedIn">
              <i class="fa fa-linkedin"></i>
            </a>
          
            <a class="btn btn-google-plus" href="https://www.google.com/+JoshCarrollW" title="Google+">
              <i class="fa fa-google-plus"></i>
            </a>
          
            <a class="btn btn-github" href="https://github.com/jwcarroll" title="GitHub">
              <i class="fa fa-github"></i>
            </a>
          
          </div> <!-- /.socials-footer -->
        </footer> <!-- /footer -->

      </div>
    </div> <!-- /#primary -->

    <!-- Scripts -->
    <script src="/js/jquery-1.11.0.min.js"></script>
    <script src="/js/custom.js"></script>

  </body>
</html>